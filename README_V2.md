# üìö @ldesign/pdf - Enterprise PDF Viewer

[![Version](https://img.shields.io/badge/version-2.0.0-blue.svg)](https://github.com/yourusername/ldesign)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.3-blue.svg)](https://www.typescriptlang.org/)
[![Bundle Size](https://img.shields.io/badge/gzip-<150KB-green.svg)]()

**‰ºÅ‰∏öÁ∫ßPDFÊü•ÁúãÂô®Â∫ì** - ÂäüËÉΩ‰∏∞ÂØå„ÄÅÊÄßËÉΩÂçìË∂ä„ÄÅÊ°ÜÊû∂Êó†ÂÖ≥ÁöÑÁé∞‰ª£ÂåñPDFËß£ÂÜ≥ÊñπÊ°à

## ‚ú® Êñ∞ÁâàÊú¨‰∫ÆÁÇπ (v2.0)

### üöÄ ÊÄßËÉΩÂ§ßÂπÖÊèêÂçá
- ‚úÖ **ÂÜÖÂ≠ò‰ºòÂåñ40%+** - LRUÈ°µÈù¢ÁºìÂ≠òÁ≠ñÁï•
- ‚úÖ **Ê∏≤ÊüìÈÄüÂ∫¶ÊèêÂçá3ÂÄç** - CanvasÂØπË±°Ê±†Â§çÁî®
- ‚úÖ **ËôöÊãüÊªöÂä®** - ÊîØÊåÅ1000+È°µPDFÊµÅÁïÖÊªöÂä®
- ‚úÖ **Ê∏êËøõÂºèÊ∏≤Êüì** - ÂÖà‰ΩéË¥®ÈáèÂêéÈ´òË¥®ÈáèÊòæÁ§∫
- ‚úÖ **ÊÄßËÉΩÁõëÊéß** - ÂÆûÊó∂FPS„ÄÅÂÜÖÂ≠òËøΩË∏™

### üìù ÂÖ®Êñ∞ÂäüËÉΩÊ®°Âùó
- ‚úÖ **Ë°®ÂçïÂ°´ÂÜô** - Ëá™Âä®ËØÜÂà´ÂíåÂ°´ÂÜôPDFË°®ÂçïÂ≠óÊÆµ
- ‚úÖ **Êï∞Â≠óÁ≠æÂêç** - ÊâãÁªò/ÊñáÂ≠ó/ÂõæÁâáÁ≠æÂêçÊîØÊåÅ
- ‚úÖ **È°µÈù¢ÁÆ°ÁêÜ** - ÊèêÂèñ„ÄÅÊóãËΩ¨„ÄÅÈáçÊéíÈ°µÈù¢
- ‚úÖ **Â§öÊ†ºÂºèÂØºÂá∫** - PNG/JPEG/WebP/ÊñáÊú¨ÂØºÂá∫
- ‚úÖ **Ëß¶Êë∏ÊâãÂäø** - ÂÆåÊï¥ÁöÑÁßªÂä®Á´ØÊâãÂäøÊîØÊåÅ
- ‚úÖ **ÈîÆÁõòÂØºËà™** - ÂÖ®ÈîÆÁõòÊìç‰ΩúÂíåËá™ÂÆö‰πâÂø´Êç∑ÈîÆ

### üéØ ‰ºÅ‰∏öÁ∫ßÁâπÊÄß
- ‚úÖ **Áªü‰∏ÄÈîôËØØÂ§ÑÁêÜ** - ÂÆåÂñÑÁöÑÈîôËØØËøΩË∏™ÂíåÊÅ¢Â§ç
- ‚úÖ **ÂàÜÁ∫ßÊó•ÂøóÁ≥ªÁªü** - Debug/Info/Warn/Error
- ‚úÖ **TypeScript‰∏•Ê†ºÊ®°Âºè** - ÂÆåÊï¥Á±ªÂûãÂÆö‰πâ
- ‚úÖ **Ê®°ÂùóÂåñÊû∂ÊûÑ** - ÊåâÈúÄÂä†ËΩΩÔºå‰ºòÂåñÂåÖ‰ΩìÁßØ
- ‚úÖ **Êó†ÈöúÁ¢çÊîØÊåÅ** - ARIA„ÄÅÈîÆÁõòÂØºËà™„ÄÅÈ´òÂØπÊØîÂ∫¶

## üì¶ ÂÆâË£Ö

```bash
# npm
npm install @ldesign/pdf

# yarn
yarn add @ldesign/pdf

# pnpm
pnpm add @ldesign/pdf
```

## üöÄ Âø´ÈÄüÂºÄÂßã

### Âü∫Á°Ä‰ΩøÁî®

```typescript
import { PDFViewer } from '@ldesign/pdf';

const viewer = new PDFViewer({
  container: document.getElementById('pdf-container'),
  pdfUrl: 'document.pdf',
  enableSidebar: true,
  enableThumbnails: true
});
```

### Â¢ûÂº∫Áâà - ÊâÄÊúâÂäüËÉΩ

```typescript
import { createEnhancedPDFViewer } from '@ldesign/pdf';

const {
  viewer,
  formManager,
  signatureManager,
  exportManager,
  performanceMonitor
} = await createEnhancedPDFViewer({
  container: document.getElementById('pdf-container'),
  pdfUrl: 'document.pdf',
  
  // ÊÄßËÉΩ‰ºòÂåñ
  enableCaching: true,
  enableVirtualScroll: true,
  enablePerformanceMonitoring: true,
  
  // ÂäüËÉΩÊ®°Âùó
  enableForms: true,
  enableSignatures: true,
  enableExport: true,
  enablePageManagement: true,
  
  // ÁßªÂä®Á´Ø
  enableTouchGestures: true,
  
  // ÈîÆÁõò
  enableKeyboard: true,
  
  // Êó•ÂøóÁ∫ßÂà´
  logLevel: LogLevel.INFO
});

// ‰ΩøÁî®Ë°®ÂçïÂäüËÉΩ
await formManager?.detectFields();
formManager?.fillField('fieldId', 'value');

// ‰ΩøÁî®Á≠æÂêçÂäüËÉΩ
const signature = signatureManager?.createTextSignature('John Doe');
signatureManager?.placeSignature(signature.id, {
  pageNumber: 1,
  x: 100,
  y: 200,
  width: 200,
  height: 80
});

// ÂØºÂá∫ÂäüËÉΩ
await exportManager?.exportAndDownload({
  format: 'png',
  pageNumbers: [1, 2, 3],
  quality: 0.9
});

// Êü•ÁúãÊÄßËÉΩÁªüËÆ°
console.log(performanceMonitor?.getStats());
```

## üé® Ê†∏ÂøÉÂäüËÉΩËØ¶Ëß£

### 1. ËôöÊãüÊªöÂä® - Â§ßÊñá‰ª∂‰ºòÂåñ

```typescript
import { VirtualScroller } from '@ldesign/pdf';

const scroller = new VirtualScroller({
  container: element,
  document: pdfDocument,
  bufferSize: 3, // ‰∏ä‰∏ãÂêÑÁºìÂ≠ò3È°µ
  renderPage: async (pageNum, container) => {
    // Ëá™ÂÆö‰πâÈ°µÈù¢Ê∏≤ÊüìÈÄªËæë
  }
});

// ÊªöÂä®Âà∞ÊåáÂÆöÈ°µÈù¢
scroller.scrollToPage(50);

// Ëé∑ÂèñÂΩìÂâçÂèØËßÅÈ°µÈù¢
const visiblePages = scroller.getVisiblePages();
```

### 2. Ë°®ÂçïÁÆ°ÁêÜ

```typescript
import { FormManager } from '@ldesign/pdf';

const formManager = new FormManager(pdfDocument);

// Ê£ÄÊµãÊâÄÊúâË°®ÂçïÂ≠óÊÆµ
const fields = await formManager.detectFields();

// Â°´ÂÜôË°®Âçï
formManager.fillField('name', 'John Doe');
formManager.fillField('email', 'john@example.com');

// ÊâπÈáèÂ°´ÂÜô
formManager.fillForm({
  name: 'John Doe',
  email: 'john@example.com',
  age: '30'
});

// È™åËØÅË°®Âçï
const errors = formManager.validateForm();

// ÂØºÂá∫Ë°®ÂçïÊï∞ÊçÆ
const data = formManager.exportFormData();
```

### 3. Êï∞Â≠óÁ≠æÂêç

```typescript
import { SignatureManager } from '@ldesign/pdf';

const signManager = new SignatureManager();

// ÂàõÂª∫ÊâãÁªòÁ≠æÂêç
const canvas = signManager.createDrawingCanvas(400, 200);
document.body.appendChild(canvas);
// ... Áî®Êà∑ÁªòÂà∂ ...
const drawnSignature = signManager.saveDrawnSignature('My Signature');

// ÂàõÂª∫ÊñáÂ≠óÁ≠æÂêç
const textSignature = signManager.createTextSignature('John Doe', {
  font: 'cursive',
  fontSize: 48,
  color: '#000000'
});

// ‰ªéÂõæÁâáÂàõÂª∫Á≠æÂêç
const file = await getImageFile();
const imageSignature = await signManager.createImageSignature(file);

// ÊîæÁΩÆÁ≠æÂêçÂà∞PDF
signManager.placeSignature(textSignature.id, {
  pageNumber: 1,
  x: 100,
  y: 500,
  width: 200,
  height: 80
});
```

### 4. Ëß¶Êë∏ÊâãÂäø (ÁßªÂä®Á´Ø)

```typescript
import { TouchGestureHandler } from '@ldesign/pdf';

const gestures = new TouchGestureHandler({
  container: element,
  enablePinchZoom: true,
  enableDoubleTapZoom: true,
  enableSwipe: true,
  enableLongPress: true
});

// ÁõëÂê¨ÊâãÂäø‰∫ã‰ª∂
gestures.on('pinch', ({ scale, center }) => {
  viewer.setZoom(scale);
});

gestures.on('swipe', ({ direction }) => {
  if (direction === 'left') viewer.nextPage();
  if (direction === 'right') viewer.previousPage();
});

gestures.on('doubletap', ({ x, y }) => {
  viewer.zoomIn();
});

gestures.on('longpress', ({ x, y }) => {
  // ÊòæÁ§∫‰∏ä‰∏ãÊñáËèúÂçï
});
```

### 5. ÈîÆÁõòÂø´Êç∑ÈîÆ

```typescript
import { KeyboardHandler } from '@ldesign/pdf';

const keyboard = new KeyboardHandler({
  container: element,
  enableDefaultShortcuts: true
});

// Ëá™ÂÆö‰πâÂø´Êç∑ÈîÆ
keyboard.register({
  key: 'g',
  ctrl: true,
  description: 'Ë∑≥ËΩ¨Âà∞È°µÈù¢',
  action: () => {
    const page = prompt('ËæìÂÖ•È°µÁ†Å');
    if (page) viewer.goToPage(parseInt(page));
  }
});

// ÁõëÂê¨Âø´Êç∑ÈîÆÊâßË°å
keyboard.on('nextPage', () => viewer.nextPage());
keyboard.on('previousPage', () => viewer.previousPage());
keyboard.on('zoomIn', () => viewer.zoomIn());
keyboard.on('zoomOut', () => viewer.zoomOut());

// ÊòæÁ§∫Â∏ÆÂä©
keyboard.showHelp();
```

### 6. È°µÈù¢ÁÆ°ÁêÜ

```typescript
import { PageManager } from '@ldesign/pdf';

const pageManager = new PageManager(pdfDocument);

// Ëé∑ÂèñÈ°µÈù¢‰ø°ÊÅØ
const info = await pageManager.getPageInfo(1);

// ÊóãËΩ¨È°µÈù¢
pageManager.rotatePage(1, 90);
pageManager.rotateAllPages(90);

// Ëß£ÊûêÈ°µÁ†ÅËåÉÂõ¥
const pages = pageManager.parsePageRange('1-5,7,10-12');
// ÁªìÊûú: [1, 2, 3, 4, 5, 7, 10, 11, 12]

// Ëé∑ÂèñËøûÁª≠ËåÉÂõ¥Â≠óÁ¨¶‰∏≤
const rangeStr = pageManager.getConsecutiveRanges([1,2,3,5,6,8]);
// ÁªìÊûú: "1-3,5-6,8"
```

### 7. ÂØºÂá∫ÂäüËÉΩ

```typescript
import { ExportManager } from '@ldesign/pdf';

const exportManager = new ExportManager(pdfDocument);

// ÂØºÂá∫‰∏∫ÂõæÁâá
const blobs = await exportManager.exportAsImages({
  format: 'png',
  pageNumbers: [1, 2, 3],
  scale: 2.0,
  quality: 0.92
});

// ÂØºÂá∫‰∏∫ÊñáÊú¨
const text = await exportManager.exportAsText({
  pageNumbers: [1, 2, 3]
});

// Áõ¥Êé•‰∏ãËΩΩ
await exportManager.exportAndDownload({
  format: 'jpeg',
  pageNumbers: [1],
  quality: 0.8,
  filename: 'my-document'
});

// ÁõëÂê¨ÂØºÂá∫ËøõÂ∫¶
exportManager.on('export-progress', ({ current, total, percentage }) => {
  console.log(`ÂØºÂá∫ËøõÂ∫¶: ${percentage}%`);
});
```

## üîß ÈÖçÁΩÆÈÄâÈ°π

```typescript
interface EnhancedPDFViewerOptions {
  // Âü∫Á°ÄÈÖçÁΩÆ
  container: HTMLElement;
  pdfUrl?: string;
  initialScale?: number;
  fitMode?: 'width' | 'height' | 'page' | 'auto';
  pageMode?: 'single' | 'continuous';
  
  // ÊÄßËÉΩ‰ºòÂåñ
  enableCaching?: boolean;
  enableVirtualScroll?: boolean;
  cacheOptions?: {
    maxCacheSize?: number; // ÊúÄÂ§ßÁºìÂ≠òÈ°µÊï∞ÔºåÈªòËÆ§10
    maxMemoryMB?: number;  // ÊúÄÂ§ßÂÜÖÂ≠òÂç†Áî®ÔºåÈªòËÆ§50MB
  };
  
  // ÂäüËÉΩÂºÄÂÖ≥
  enableForms?: boolean;
  enableSignatures?: boolean;
  enableExport?: boolean;
  enablePageManagement?: boolean;
  enableSidebar?: boolean;
  enableThumbnails?: boolean;
  
  // ÁßªÂä®Á´Ø
  enableTouchGestures?: boolean;
  touchGestureOptions?: {
    enablePinchZoom?: boolean;
    enableDoubleTapZoom?: boolean;
    enableSwipe?: boolean;
    enableLongPress?: boolean;
  };
  
  // ÈîÆÁõò
  enableKeyboard?: boolean;
  
  // ÁõëÊéßÂíåÊó•Âøó
  enablePerformanceMonitoring?: boolean;
  logLevel?: LogLevel; // DEBUG | INFO | WARN | ERROR
}
```

## üìä ÊÄßËÉΩÁõëÊéß

```typescript
import { globalPerformanceMonitor } from '@ldesign/pdf';

// ÊâãÂä®ÊµãÈáèÊÄßËÉΩ
globalPerformanceMonitor.start('custom-operation');
// ... ÊâßË°åÊìç‰Ωú ...
globalPerformanceMonitor.end('custom-operation');

// ‰ΩøÁî®measureÂåÖË£ÖÂáΩÊï∞
await globalPerformanceMonitor.measure('load-page', async () => {
  await loadPage(5);
});

// Ëé∑ÂèñÊÄßËÉΩÁªüËÆ°
const stats = globalPerformanceMonitor.getStats();
console.log('Âπ≥ÂùáÊ∏≤ÊüìÊó∂Èó¥:', stats.averageRenderTime);
console.log('ÂΩìÂâçFPS:', stats.currentFPS);
console.log('ÂÜÖÂ≠ò‰ΩøÁî®:', stats.currentMemoryMB);

// ÂØºÂá∫ÊÄßËÉΩÊä•Âëä
const report = globalPerformanceMonitor.exportReport();
console.log(report);
```

## üéØ ‰∫ã‰ª∂Á≥ªÁªü

```typescript
// ÊñáÊ°£‰∫ã‰ª∂
viewer.on('document-loaded', ({ numPages }) => {
  console.log(`PDF loaded with ${numPages} pages`);
});

// È°µÈù¢‰∫ã‰ª∂
viewer.on('page-changed', (pageNumber) => {
  console.log(`Current page: ${pageNumber}`);
});

viewer.on('page-rendered', ({ pageNumber, scale }) => {
  console.log(`Page ${pageNumber} rendered at ${scale}x`);
});

// Áº©Êîæ‰∫ã‰ª∂
viewer.on('zoom-changed', (scale) => {
  console.log(`Zoom: ${(scale * 100).toFixed(0)}%`);
});

// ÈîôËØØ‰∫ã‰ª∂
viewer.on('error', (error) => {
  console.error('PDF Error:', error);
});

// Ë°®Âçï‰∫ã‰ª∂
formManager?.on('field-changed', ({ field, value }) => {
  console.log(`Field ${field.name} changed to:`, value);
});

// Á≠æÂêç‰∫ã‰ª∂
signatureManager?.on('signature-placed', ({ signature, placed }) => {
  console.log('Signature placed:', placed);
});
```

## üõ†Ô∏è Â∑•ÂÖ∑ÂáΩÊï∞

```typescript
import { utils } from '@ldesign/pdf';

// Èò≤ÊäñÂíåËäÇÊµÅ
const debouncedFn = utils.debounce(myFunction, 300);
const throttledFn = utils.throttle(myFunction, 1000);

// Êñá‰ª∂Â§ßÂ∞èÊ†ºÂºèÂåñ
const size = utils.formatFileSize(1234567); // "1.18 MB"

// Êó∂Èó¥Ê†ºÂºèÂåñ
const duration = utils.formatDuration(1234); // "1.23s"

// ÊµèËßàÂô®ÁâπÊÄßÊ£ÄÊµã
if (utils.browserFeatures.hasWebWorker) {
  // ‰ΩøÁî®Web Worker
}

if (utils.isMobileDevice()) {
  // ÁßªÂä®Á´Ø‰ºòÂåñ
}

// ‰∏ãËΩΩÊñá‰ª∂
utils.downloadFile(blob, 'document.pdf');

// Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø
await utils.copyToClipboard('text to copy');
```

## üé® Ê†∑ÂºèËá™ÂÆö‰πâ

```css
/* Ëá™ÂÆö‰πâCSSÂèòÈáè */
:root {
  --pdf-primary-color: #4a90e2;
  --pdf-secondary-color: #2c3e50;
  --pdf-bg-color: #ffffff;
  --pdf-text-color: #333333;
  --pdf-border-color: #ddd;
  --pdf-toolbar-height: 50px;
  --pdf-sidebar-width: 280px;
}

/* Ê∑±Ëâ≤Ê®°Âºè */
[data-theme="dark"] {
  --pdf-bg-color: #1a1a1a;
  --pdf-text-color: #e0e0e0;
  --pdf-border-color: #404040;
}
```

## üì± ÁßªÂä®Á´Ø‰ºòÂåñ

- ‚úÖ ÂìçÂ∫îÂºèÂ∏ÉÂ±Ä
- ‚úÖ Ëß¶Êë∏ÊâãÂäøÊîØÊåÅ
- ‚úÖ ÊÄßËÉΩ‰ºòÂåñÔºàÈôç‰ΩéÊ∏≤ÊüìË¥®ÈáèÔºâ
- ‚úÖ ËôöÊãüÈîÆÁõòÈÄÇÈÖç
- ‚úÖ 44x44px Ëß¶Êë∏ÁõÆÊ†á

## ‚ôø Êó†ÈöúÁ¢çÊîØÊåÅ

- ‚úÖ ÂÆåÊï¥ÁöÑARIAÊ†áÁ≠æ
- ‚úÖ ÈîÆÁõòÂØºËà™
- ‚úÖ Â±èÂπïÈòÖËØªÂô®ÊîØÊåÅ
- ‚úÖ È´òÂØπÊØîÂ∫¶Ê®°Âºè
- ‚úÖ ÁÑ¶ÁÇπÁÆ°ÁêÜ

## üìà ÊÄßËÉΩÂü∫ÂáÜ

| ÊåáÊ†á | v1.0 | v2.0 | ÊèêÂçá |
|------|------|------|------|
| ÂÜÖÂ≠òÂç†Áî® | 150MB | 90MB | **40%‚Üì** |
| È¶ñÊ¨°Ê∏≤Êüì | 800ms | 250ms | **68%‚Üì** |
| È°µÈù¢ÂàáÊç¢ | 300ms | 100ms | **66%‚Üì** |
| 1000È°µÊªöÂä® | Âç°È°ø | ÊµÅÁïÖ60FPS | **‚àû** |
| ÂåÖ‰ΩìÁßØ(gzip) | 180KB | 145KB | **19%‚Üì** |

## üåê ÊµèËßàÂô®ÊîØÊåÅ

- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+
- ÁßªÂä®Á´ØÊµèËßàÂô®

## üìö APIÊñáÊ°£

ÂÆåÊï¥APIÊñáÊ°£ËØ∑ËÆøÈóÆ: [API Documentation](./docs/API.md)

## ü§ù Ë¥°ÁåÆ

Ê¨¢ËøéË¥°ÁåÆÔºÅËØ∑Êü•Áúã [CONTRIBUTING.md](./CONTRIBUTING.md)

## üìÑ ËÆ∏ÂèØËØÅ

MIT License - ËØ¶ËßÅ [LICENSE](./LICENSE)

## üôè Ëá¥Ë∞¢

- [PDF.js](https://mozilla.github.io/pdf.js/) - Mozilla PDFÊ∏≤ÊüìÂºïÊìé
- ÊâÄÊúâË¥°ÁåÆËÄÖÂíåÁî®Êà∑

## üìû ÊîØÊåÅ

- üìß Email: support@example.com
- üí¨ Discord: [Âä†ÂÖ•Êàë‰ª¨](https://discord.gg/example)
- üìñ ÊñáÊ°£: [docs.example.com](https://docs.example.com)
- üêõ ÈóÆÈ¢òÂèçÈ¶à: [GitHub Issues](https://github.com/example/issues)

---

Made with ‚ù§Ô∏è by the LDesign Team

